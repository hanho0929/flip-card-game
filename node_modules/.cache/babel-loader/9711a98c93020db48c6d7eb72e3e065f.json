{"ast":null,"code":"var _jsxFileName = \"/Users/hanho/Desktop/React/FRE-Training-031521/flip-card-game/src/App.js\";\nimport React, { PureComponent } from 'react';\nimport Header from './components/header/header';\nimport Card from './components/card/card';\nimport Restart from './components/card/restart'; // import './styles/main.css';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends PureComponent {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isFlipped: Array(16).fill(false),\n      shuffledCard: App.duplicateCard().sort(() => Math.random() - 0.5),\n      clickCount: 1,\n      prevSelectedCard: -1,\n      prevCardId: -1\n    };\n\n    this.handleClick = event => {\n      event.preventDefault();\n      const cardId = event.target.id;\n      const newFlipps = this.state.isFlipped.slice();\n      this.setState({\n        prevSelectedCard: this.state.shuffledCard[cardId],\n        prevCardId: cardId\n      });\n\n      if (newFlipps[cardId] === false) {\n        newFlipps[cardId] = !newFlipps[cardId];\n        this.setState(prevState => ({\n          isFlipped: newFlipps,\n          clickCount: this.state.clickCount + 1\n        }));\n\n        if (this.state.clickCount === 2) {\n          this.setState({\n            clickCount: 1\n          });\n          const prevCardId = this.state.prevCardId;\n          const newCard = this.state.shuffledCard[cardId];\n          const previousCard = this.state.prevSelectedCard;\n          this.isCardMatch(previousCard, newCard, prevCardId, cardId);\n        }\n      }\n    };\n\n    this.isCardMatch = (card1, card2, card1Id, card2Id) => {\n      if (card1 === card2) {\n        const hideCard = this.state.shuffledCard.slice();\n        hideCard[card1Id] = -1;\n        hideCard[card2Id] = -1;\n        setTimeout(() => {\n          this.setState(prevState => ({\n            shuffledCard: hideCard\n          }));\n        }, 1000);\n      } else {\n        const flipBack = this.state.isFlipped.slice();\n        flipBack[card1Id] = false;\n        flipBack[card2Id] = false;\n        setTimeout(() => {\n          this.setState(prevState => ({\n            isFlipped: flipBack\n          }));\n        }, 1000);\n      }\n    };\n\n    this.restartGame = () => {\n      this.setState({\n        isFlipped: Array(16).fill(false),\n        shuffledCard: App.duplicateCard().sort(() => Math.random() - 0.5),\n        clickCount: 1,\n        prevSelectedCard: -1,\n        prevCardId: -1\n      });\n    };\n\n    this.isGameOver = () => {\n      return this.state.isFlipped.every((element, index, array) => element !== false);\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        restartGame: this.restartGame\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 8\n      }, this), this.isGameOver() ? /*#__PURE__*/_jsxDEV(Restart, {\n        restartGame: this.restartGame\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 30\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid-container\",\n        children: this.state.shuffledCard.map((cardNumber, index) => /*#__PURE__*/_jsxDEV(Card, {\n          id: index,\n          cardNumber: cardNumber,\n          isFlipped: this.state.isFlipped[index],\n          handleClick: this.handleClick\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 6\n    }, this);\n  }\n\n}\n\nApp.duplicateCard = () => {\n  return [0, 1, 2, 3, 4, 5, 6, 7].reduce((preValue, current, index, array) => {\n    return preValue.concat([current, current]);\n  }, []);\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/hanho/Desktop/React/FRE-Training-031521/flip-card-game/src/App.js"],"names":["React","PureComponent","Header","Card","Restart","App","state","isFlipped","Array","fill","shuffledCard","duplicateCard","sort","Math","random","clickCount","prevSelectedCard","prevCardId","handleClick","event","preventDefault","cardId","target","id","newFlipps","slice","setState","prevState","newCard","previousCard","isCardMatch","card1","card2","card1Id","card2Id","hideCard","setTimeout","flipBack","restartGame","isGameOver","every","element","index","array","render","map","cardNumber","reduce","preValue","current","concat"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\nimport Header from './components/header/header';\nimport Card from './components/card/card';\nimport Restart from './components/card/restart';\n\n// import './styles/main.css';\n\nclass App extends PureComponent {\n\n  state = { \n    isFlipped: Array(16).fill(false),\n    shuffledCard: App.duplicateCard().sort(() => Math.random() - 0.5),\n    clickCount: 1,\n    prevSelectedCard: -1,\n    prevCardId: -1\n  };\n\n  static duplicateCard = () => {\n    return [0,1,2,3,4,5,6,7].reduce((preValue, current, index, array) => {\n      return preValue.concat([current, current])\n    },[]);\n  };\n\n  handleClick = event => {\n    event.preventDefault();\n    const cardId = event.target.id;\n    const newFlipps = this.state.isFlipped.slice();\n    this.setState({\n        prevSelectedCard: this.state.shuffledCard[cardId],\n        prevCardId: cardId\n    });\n\n    if (newFlipps[cardId] === false) {\n      newFlipps[cardId] = !newFlipps[cardId];\n      this.setState(prevState => ({ \n        isFlipped: newFlipps,\n        clickCount: this.state.clickCount + 1\n      }));\n\n      if (this.state.clickCount === 2) {\n        this.setState({ clickCount: 1 });\n        const prevCardId = this.state.prevCardId;\n        const newCard = this.state.shuffledCard[cardId];\n        const previousCard = this.state.prevSelectedCard;\n\n        this.isCardMatch(previousCard, newCard, prevCardId, cardId);\n      }\n    }\n  };\n\n  isCardMatch = (card1, card2, card1Id, card2Id) => {\n    if (card1 === card2) {\n      const hideCard = this.state.shuffledCard.slice();\n      hideCard[card1Id] = -1;\n      hideCard[card2Id] = -1;\n      setTimeout(() => {\n        this.setState(prevState => ({\n          shuffledCard: hideCard\n        }))\n      }, 1000);\n    } else {\n      const flipBack = this.state.isFlipped.slice();\n      flipBack[card1Id] = false;\n      flipBack[card2Id] = false;\n      setTimeout(() => {\n        this.setState(prevState => ({ isFlipped: flipBack }));\n      }, 1000);\n    }\n  };\n\n  restartGame = () => {\n    this.setState({\n      isFlipped: Array(16).fill(false),\n      shuffledCard: App.duplicateCard().sort(() => Math.random() - 0.5),\n      clickCount: 1,\n      prevSelectedCard: -1,\n      prevCardId: -1\n    });\n  };\n\n  isGameOver = () => {\n    return this.state.isFlipped.every((element, index, array) => element !== false);\n  };\n\n  render() {\n    return (\n     <div>\n       <Header restartGame={this.restartGame} />\n       { this.isGameOver() ? <Restart restartGame={this.restartGame} /> :\n       <div className=\"grid-container\">\n          {\n            this.state.shuffledCard.map((cardNumber, index) => \n              <Card\n                key={index} \n                id={index} \n                cardNumber={cardNumber} \n                isFlipped={this.state.isFlipped[index]} \n                handleClick={this.handleClick}     \n              />\n            )\n          }\n        </div>\n       }\n     </div>\n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}